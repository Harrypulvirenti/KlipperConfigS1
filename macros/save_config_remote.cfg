[gcode_macro BACKUP_CONFIG]
description: "Macro to perform an upload of the configuration to a github repo with a message"
gcode:
    {% set message = params.MESSAGE|default("")|string %}
    RUN_SHELL_COMMAND CMD=remote_backup PARAMS={message}

[gcode_macro TEST]
description: "Macro to perform an upload of the configuration to a github repo with a message"
gcode:
    {% set max_x = 230|float %}
    {% set max_y = 230|float %}
    {% set probe_offset_x = printer['configfile'].config["probe"]["x_offset"]|float %}
    {% set probe_offset_y = printer['configfile'].config["probe"]["y_offset"]|float %}
    {% set center_x = max_x % 2 %}
    {% set center_y = max_y / 2 %}
    {% set probe_x = max_x / 2 - probe_offset_x %}
    {% set probe_y = center_y - probe_offset_y %}

    { action_respond_info(probe_x|string) }
    { action_respond_info(probe_y|string) }