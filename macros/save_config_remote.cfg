[gcode_macro SAVE_CONFIG]
rename_existing: _SAVE_CONFIG
description: "Macro to perform an upload of the configuration to a github repo automatically when launching the SAVE_CONFIG"
gcode:
    BACKUP_CONFIG
    _SAVE_CONFIG

[gcode_macro BACKUP_CONFIG]
description: "Macro to perform an upload of the configuration to a github repo with a message"
gcode:
    {% set message = params.MESSAGE|default("")|string %}
    RUN_SHELL_COMMAND CMD=remote_backup PARAMS={message}